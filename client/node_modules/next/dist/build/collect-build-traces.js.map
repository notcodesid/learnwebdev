{"version":3,"sources":["../../src/build/collect-build-traces.ts"],"names":["collectBuildTraces","debug","debugOriginal","shouldIgnore","file","serverIgnoreFn","reasons","cachedIgnoreFiles","children","Set","has","get","set","add","reason","parents","size","type","includes","allParentsIgnored","parent","values","dir","config","distDir","pageInfos","staticPages","nextBuildSpan","Span","name","hasSsrAmpPages","buildTraceContext","outputFileTracingRoot","startTime","Date","now","turboTasksForTrace","bindings","loadBindings","runTurbotrace","experimental","turbotrace","isWasm","turbo","startTrace","turbotraceOutputPath","turbotraceFiles","createTurboTasks","memoryLimit","TURBO_TRACE_DEFAULT_MEMORY_LIMIT","entriesTrace","chunksTrace","appDir","buildTraceContextAppDir","depModArray","entryNameMap","outputPath","action","depModSet","filesTracedInEntries","contextDirectory","input","entriesToTrace","filesTracedFromEntries","map","f","path","join","filter","startsWith","length","entryName","Array","from","Object","entries","k","traceOutputPath","traceOutputDir","dirname","relative","outputPagesPath","substring","existedNftFile","fs","readFile","then","existedContent","JSON","parse","catch","version","TRACE_OUTPUT_VERSION","files","push","filesSet","writeFile","stringify","outputFileTracingIncludes","outputFileTracingExcludes","excludeGlobKeys","keys","includeGlobKeys","traceChild","isTurbotrace","Boolean","traceAsyncFn","nextServerTraceOutput","nextMinimalTraceOutput","root","isStandalone","output","nextServerEntry","require","resolve","sharedEntriesSet","defaultOverrides","value","paths","cacheHandler","isAbsolute","serverEntries","minimalServerEntries","additionalIgnores","glob","picomatch","forEach","exclude","makeIgnoreFn","ignores","isMatch","contains","dot","pathname","sharedIgnores","ciEnvironment","hasNextSupport","TRACE_IGNORES","outputFileTracingIgnores","sharedIgnoresFn","serverIgnores","nonNullable","minimalServerIgnores","minimalServerIgnoreFn","routesIgnores","routeIgnoreFn","traceContext","serverTracedFiles","minimalServerTracedFiles","addToTracedFiles","base","dest","replace","makeTrace","logLevel","processCwd","logDetail","showAll","logAll","vanillaFiles","minimalFiles","chunksToTrace","result","nodeFileTrace","mixedModules","p","e","isError","code","readlink","stat","ignore","fileList","esmFileList","parentFilesMap","getFilesMapFromReasons","cachedLookupIgnore","Map","cachedLookupIgnoreMinimal","tracedFiles","curFiles","curFile","filePath","entryNameFilesMap","cachedLookupIgnoreRoutes","Promise","all","entryNameFiles","isApp","isPages","route","normalizeAppPath","normalizePagePath","entryOutputPath","existingTrace","curTracedFiles","outputFile","sort","moduleTypes","modulePath","relativeModulePath","contextDir","item","readdir","itemPath","includeExcludeSpan","globOrig","pattern","reject","cwd","nodir","err","infos","deserializePageInfos","pageInfo","runtime","combinedIncludes","combinedExcludes","curGlob","include","traceFile","pageDir","traceContent","resolvedTraceIncludes","includeGlob","results","resolvedInclude","combined","resolvedGlobs","delete"],"mappings":"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"}