{"version":3,"sources":["../../../../src/build/webpack/plugins/next-trace-entrypoints-plugin.ts"],"names":["TRACE_IGNORES","TraceEntryPointsPlugin","getFilesMapFromReasons","PLUGIN_NAME","NOT_TRACEABLE","getModuleFromDependency","compilation","dep","moduleGraph","getModule","fileList","reasons","ignoreFn","parentFilesMap","Map","propagateToParents","parents","file","seen","Set","parent","has","add","parentFiles","get","set","parentReason","reason","isInitial","type","length","includes","size","constructor","rootDir","appDir","pagesDir","optOutBundlingPackages","appDirEnabled","traceIgnores","esmExternals","outputFileTracingRoot","turbotrace","buildTraceContext","entryTraces","tracingRoot","createTraceAssets","assets","span","outputPath","outputOptions","path","traceChild","traceAsyncFn","entryFilesMap","chunksToTrace","entryNameFilesMap","isTraceable","some","suffix","endsWith","entrypoint","entrypoints","values","entryFiles","chunk","getEntrypointChunk","getAllReferencedChunks","files","filePath","nodePath","join","auxiliaryFiles","name","chunksTrace","action","input","contextDirectory","processCwd","showAll","logAll","logLevel","Object","fromEntries","traceOutputName","traceOutputPath","dirname","delete","startsWith","clientManifestsForPage","UNDERSCORE_NOT_FOUND_ROUTE_ENTRY","replace","CLIENT_REFERENCE_MANIFEST","finalFiles","push","relative","sources","RawSource","JSON","stringify","version","TRACE_OUTPUT_VERSION","tapfinishModules","traceEntrypointsPluginSpan","doResolve","readlink","stat","hooks","finishModules","tapAsync","_stats","callback","finishModulesSpan","entryNameMap","entryModMap","additionalEntries","depModMap","traceFn","entries","forEach","entry","normalizedName","isPage","isApp","dependencies","entryMod","resource","moduleBuildInfo","getModuleBuildInfo","route","absolutePath","getPageFilePath","absolutePagePath","request","curMap","readFile","mod","source","originalSource","buffer","entryPaths","Array","from","keys","collectDependencies","depMod","entriesToTrace","entryName","curExtraEntries","chunks","entriesTrace","depModArray","binding","loadBindings","isWasm","turbo","startTrace","ignores","isIgnoreMatcher","picomatch","contains","dot","traceEntryCount","result","nodeFileTrace","base","resolve","id","job","isCjs","undefined","ignore","mixedModules","esmFileList","isAsset","isArray","loaders","normalizedEntry","finalDeps","extraEntry","normalizedExtraEntry","then","err","apply","compiler","tap","Promise","reject","inputFileSystem","link","e","isError","code","stats","compilationSpan","spans","processAssets","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_SUMMARIZE","catch","resolver","resolverFactory","getPkgName","segments","split","slice","getResolve","options","curResolver","withOptions","context","fileDependencies","missingDependencies","contextDependencies","resContext","Error","requestPath","isAbsolute","descriptionFileRoot","sep","rootSeparatorIndex","indexOf","separatorIndex","lastIndexOf","curPackageJsonPath","isFile","emitFile","realpath","_err","dependencyType","CJS_RESOLVE_OPTIONS","NODE_RESOLVE_OPTIONS","fullySpecified","modules","extensions","BASE_CJS_RESOLVE_OPTIONS","alias","ESM_RESOLVE_OPTIONS","NODE_ESM_RESOLVE_OPTIONS","BASE_ESM_RESOLVE_OPTIONS","isEsmRequested","res","resolveExternal","_","resRequest"],"mappings":"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"}