{"version":3,"sources":["../../src/export/index.ts"],"names":["bold","yellow","findUp","existsSync","promises","fs","Worker","dirname","join","resolve","sep","formatAmpMessages","Log","RSC_SUFFIX","SSG_FALLBACK_EXPORT_ERROR","recursiveCopy","BUILD_ID_FILE","CLIENT_PUBLIC_FILES_PATH","CLIENT_STATIC_FILES_PATH","EXPORT_DETAIL","EXPORT_MARKER","NEXT_FONT_MANIFEST","MIDDLEWARE_MANIFEST","PAGES_MANIFEST","PHASE_EXPORT","PRERENDER_MANIFEST","SERVER_DIRECTORY","SERVER_REFERENCE_MANIFEST","APP_PATH_ROUTES_MANIFEST","loadConfig","eventCliSession","hasNextSupport","Telemetry","normalizePagePath","denormalizePagePath","loadEnvConfig","isAPIRoute","getPagePath","isAppRouteRoute","isAppPageRoute","isError","needsExperimentalReact","formatManifest","validateRevalidate","TurborepoAccessTraceResult","createProgress","ExportError","Error","code","setupWorkers","options","nextConfig","exportPageWorker","pages","app","exportAppPageWorker","end","endWorker","Promise","threads","experimental","cpus","silent","buildExport","info","timeout","staticPageGenerationTimeout","infoPrinted","worker","require","onRestart","_method","path","attempts","warn","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","exportAppImpl","dir","span","traceChild","traceFn","enabledDirectories","traceAsyncFn","distDir","telemetry","record","webpackVersion","cliCommand","isSrcDir","hasNowJson","cwd","isCustomServer","turboFlag","pagesDir","appDir","subFolders","trailingSlash","buildIdFile","customRoutes","filter","config","length","buildId","readFile","pagesManifest","prerenderManifest","appRoutePathManifest","err","undefined","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","dynamicRoutes","add","mapAppRouteToPage","Map","pageName","routePath","entries","set","routes","_isAppDir","outDir","outdir","rm","recursive","force","mkdir","writeFile","version","outDirectory","success","exportPathMap","defaultMap","i18n","images","loader","unoptimized","isNextImageImported","then","text","JSON","parse","catch","serverActionsManifest","output","node","edge","renderOpts","previewProps","preview","nextExport","assetPrefix","replace","dev","basePath","canonicalBase","amp","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","crossOrigin","optimizeCss","nextConfigOutput","nextScriptWorkers","optimizeFonts","largePageDataBytes","serverActions","serverComponents","nextFontManifest","strictNextHead","deploymentId","ppr","missingSuspenseWithCSRBailout","swrDelta","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","globalThis","__NEXT_DATA__","exportMap","exportPaths","map","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","hasMiddleware","middlewareManifest","middleware","progress","statusMessage","pagesDataDir","ampValidations","publicDir","workers","results","all","pathMap","exportPage","pageExportSpan","setAttribute","result","ampValidatorPath","validator","parentSpanId","getId","httpAgentOptions","debugOutput","cacheMaxMemorySize","fetchCache","fetchCacheKeyPrefix","cacheHandler","enableExperimentalReact","prerenderEarlyExit","errorPaths","renderError","hadValidationError","collector","byPath","byPage","ssgNotFoundPaths","turborepoAccessTraceResults","turborepoAccessTraceResult","fromSerialized","push","validation","errors","get","revalidate","metadata","hasEmptyPrelude","hasPostponed","ssgNotFound","durations","durationsByPath","duration","endWorkerPromise","srcRoute","appPageName","isAppPath","Boolean","isAppRouteHandler","notFoundRoutes","includes","pagePath","distPagesDir","slice","split","orig","handlerSrc","handlerDest","copyFile","htmlDest","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","console","log","sort","flush","exportApp","nextExportSpan"],"mappings":"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"}