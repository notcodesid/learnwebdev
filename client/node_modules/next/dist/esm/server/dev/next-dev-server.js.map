{"version":3,"sources":["../../../src/server/dev/next-dev-server.ts"],"names":["fs","Worker","join","pathJoin","ampValidation","INSTRUMENTATION_HOOK_FILENAME","PUBLIC_DIR_MIDDLEWARE_CONFLICT","findPagesDir","PHASE_DEVELOPMENT_SERVER","PAGES_MANIFEST","APP_PATHS_MANIFEST","COMPILER_NAMES","Server","WrappedBuildError","normalizePagePath","pathHasPrefix","removePathPrefix","Telemetry","setGlobal","trace","findPageFile","getNodeOptionsWithoutInspect","withCoalescedInvoke","loadDefaultErrorComponents","DecodeError","MiddlewareNotFoundError","Log","isError","getProperError","isMiddlewareFile","formatServerError","DevRouteMatcherManager","DevPagesRouteMatcherProvider","DevPagesAPIRouteMatcherProvider","DevAppPageRouteMatcherProvider","DevAppRouteRouteMatcherProvider","NodeManifestLoader","BatchedFileReader","DefaultFileReader","LRUCache","getMiddlewareRouteMatcher","DetachedPromise","isPostpone","generateInterceptionRoutesRewrites","buildCustomRoute","decorateServerError","ReactDevOverlayImpl","ReactDevOverlay","props","undefined","require","DevServer","getStaticPathsWorker","worker","resolve","maxRetries","numWorkers","enableWorkerThreads","nextConfig","experimental","workerThreads","forkOptions","env","process","NODE_OPTIONS","getStdout","pipe","stdout","getStderr","stderr","constructor","options","Error","stackTraceLimit","dev","ready","bundlerService","startServerSpan","storeGlobals","renderOpts","appDirDevErrorLogger","err","logErrorWithOriginalStack","ErrorDebug","staticPathsCache","max","length","value","JSON","stringify","staticPaths","ampSkipValidation","amp","skipValidation","ampValidator","html","pathname","validatorPath","validator","AmpHtmlValidator","getInstance","then","result","validateString","errors","filter","e","severity","_filterAmpDevelopmentScript","pagesDir","appDir","dir","getRouteMatchers","ensurer","ensure","match","ensurePage","definition","page","clientOnly","url","matchers","extensions","pageExtensions","extensionsExpression","RegExp","fileReader","pathnameFilter","test","push","localeNormalizer","ignorePartFilter","part","startsWith","getBuildId","prepareImpl","distDir","telemetry","traceChild","traceAsyncFn","runInstrumentationHookIfAvailable","reload","interceptionRoutePatterns","getinterceptionRoutePatterns","on","reason","catch","close","hasPage","normalizedPath","console","error","Boolean","appFile","pagesFile","runMiddleware","params","onWarning","warn","waitUntil","edgeServer","request","response","parsedUrl","includes","finished","statusCode","renderError","runEdgeFunction","onError","req","res","handleRequest","span","promise","memoryUsage","String","rss","heapUsed","heapTotal","stop","run","basePath","originalPathname","existsSync","publicDir","sent","__NEXT_PAGE","internalErr","body","send","type","getPagesManifest","serverDistDir","getAppPathsManifest","enabledDirectories","app","rewrites","Object","keys","appPathRoutes","map","route","regex","getMiddleware","middleware","getNextFontManifest","hasMiddleware","actualMiddlewareFile","ensureMiddleware","actualInstrumentationHookFile","instrumentationHook","register","message","ensureEdgeFunction","appPaths","generateRoutes","_dev","event","code","snippetChunks","split","snippet","line","substring","col","slice","indexOf","getStaticPaths","requestHeaders","isAppPath","__getStaticPaths","configFileName","publicRuntimeConfig","serverRuntimeConfig","httpAgentOptions","locales","defaultLocale","i18n","staticPathsWorker","pathsResult","loadStaticPaths","config","cacheHandler","fetchCacheKeyPrefix","isrFlushToDisk","maxMemoryCacheSize","cacheMaxMemorySize","ppr","end","get","nextInvoke","paths","fallback","output","fallbackMode","set","del","originalFetch","global","fetch","restorePatchedGlobals","opts","findPageComponents","query","shouldEnsure","compilationErr","getCompilationError","customServer","nextFontManifest","getFallbackErrorComponents"],"mappings":"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"}