{"version":3,"sources":["../../../src/server/base-http/web.ts"],"names":["toNodeOutgoingHttpHeaders","BaseNextRequest","BaseNextResponse","DetachedPromise","WebNextRequest","constructor","request","url","URL","method","href","slice","origin","length","clone","body","fetchMetrics","headers","name","value","entries","parseBody","_limit","Error","WebNextResponse","transformStream","TransformStream","writable","Headers","textBody","undefined","sendPromise","_sent","setHeader","delete","val","Array","isArray","append","removeHeader","getHeaderValues","getHeader","split","map","v","trimStart","get","getHeaders","hasHeader","has","appendHeader","send","resolve","sent","toResponse","promise","Response","readable","status","statusCode","statusText","statusMessage"],"mappings":"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"}