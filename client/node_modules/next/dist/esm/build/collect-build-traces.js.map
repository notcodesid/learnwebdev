{"version":3,"sources":["../../src/build/collect-build-traces.ts"],"names":["Span","TRACE_IGNORES","getFilesMapFromReasons","TRACE_OUTPUT_VERSION","TURBO_TRACE_DEFAULT_MEMORY_LIMIT","path","fs","deserializePageInfos","loadBindings","nonNullable","ciEnvironment","debugOriginal","picomatch","defaultOverrides","nodeFileTrace","normalizePagePath","normalizeAppPath","isError","debug","shouldIgnore","file","serverIgnoreFn","reasons","cachedIgnoreFiles","children","Set","has","get","set","add","reason","parents","size","type","includes","allParentsIgnored","parent","values","collectBuildTraces","dir","config","distDir","pageInfos","staticPages","nextBuildSpan","name","hasSsrAmpPages","buildTraceContext","outputFileTracingRoot","startTime","Date","now","turboTasksForTrace","bindings","runTurbotrace","experimental","turbotrace","isWasm","turbo","startTrace","turbotraceOutputPath","turbotraceFiles","createTurboTasks","memoryLimit","entriesTrace","chunksTrace","appDir","buildTraceContextAppDir","depModArray","entryNameMap","outputPath","action","depModSet","filesTracedInEntries","contextDirectory","input","entriesToTrace","filesTracedFromEntries","map","f","join","filter","startsWith","length","entryName","Array","from","Object","entries","k","traceOutputPath","traceOutputDir","dirname","relative","outputPagesPath","substring","existedNftFile","readFile","then","existedContent","JSON","parse","catch","version","files","push","filesSet","writeFile","stringify","outputFileTracingIncludes","outputFileTracingExcludes","excludeGlobKeys","keys","includeGlobKeys","traceChild","isTurbotrace","Boolean","traceAsyncFn","nextServerTraceOutput","nextMinimalTraceOutput","root","isStandalone","output","nextServerEntry","require","resolve","sharedEntriesSet","value","paths","cacheHandler","isAbsolute","serverEntries","minimalServerEntries","additionalIgnores","glob","forEach","exclude","makeIgnoreFn","ignores","isMatch","contains","dot","pathname","sharedIgnores","hasNextSupport","outputFileTracingIgnores","sharedIgnoresFn","serverIgnores","minimalServerIgnores","minimalServerIgnoreFn","routesIgnores","routeIgnoreFn","traceContext","serverTracedFiles","minimalServerTracedFiles","addToTracedFiles","base","dest","replace","makeTrace","logLevel","processCwd","logDetail","showAll","logAll","vanillaFiles","minimalFiles","chunksToTrace","result","mixedModules","p","e","code","readlink","stat","ignore","fileList","esmFileList","parentFilesMap","cachedLookupIgnore","Map","cachedLookupIgnoreMinimal","tracedFiles","curFiles","curFile","filePath","entryNameFilesMap","cachedLookupIgnoreRoutes","Promise","all","entryNameFiles","isApp","isPages","route","entryOutputPath","existingTrace","curTracedFiles","outputFile","sort","moduleTypes","modulePath","relativeModulePath","contextDir","item","readdir","itemPath","includeExcludeSpan","globOrig","pattern","reject","cwd","nodir","err","infos","pageInfo","runtime","combinedIncludes","combinedExcludes","curGlob","include","traceFile","pageDir","traceContent","resolvedTraceIncludes","includeGlob","results","resolvedInclude","combined","resolvedGlobs","delete"],"mappings":"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"}